<!DOCTYPE html>
<html lang="en">

<head>
    <title>Car-Free Sunday</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    
    <!-- Corrected order: A-Frame first, then A-Frame Look-At Component -->
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@^0.8.0/dist/aframe-look-at-component.min.js"></script>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    
    <script type='text/javascript' src='https://raw.githack.com/AR-js-org/AR.js/master/three.js/build/ar-threex-location-only.js'></script>
    <script type='text/javascript' src='https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js'></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.0/dist/aframe-extras.min.js"></script>
    
    <link rel="stylesheet" type="text/css" href="./static/css/style.css" />
</head>

<body>
    <div id="compassDiv">
        <!-- Compass -->
        <div class="compass">
            <div class="arrow"></div>
        </div>
        <p id="distanceFromTarget" class="uiDisplay"></p>

        <div id="mapsDiv" class="mapsDiv">
            <div class="maps" onclick="toggleModal()">
                <div class="mapDot" id="mapDot" style="background: url('./static/images/icons/mapIcon2.png') center no-repeat; background-size: contain;">
                </div>
            </div>
        </div>
    </div>

    <!-- modalMap -->
    <div id="modalMap" class="modal">

        <!-- Modal content -->
        <div class ="modal-content">
            <span class="close" style="position: absolute; top: 10v; right: 10px; z-index: 5;">
                <img src="./static/images/icons/whiteCross.png" alt="Close Button">
            </span>
            <img src="./static/images/Minimap/updatedMinimap.png" alt="Big Image">
        </div>
    </div>

    <div id="moreOptionsDiv" class="moreOptionsDiv">
        <div class="moreOptions" onclick="toggleCircles()">
            <div class="threeLines" id="threeLines" style="background: url('./static/images/icons/menu.png') center no-repeat; background-size: contain;"></div>
            <div id="additionalCircles" class="additionalCircles">
                <div class="circle bicycleCrossing" onclick="selectRed()">
                    <img src="./static/images/picture_Buttons/bicycleCrossings_edited.png" alt="Bicycle Crossing" style="width: 50%; height: 80%;">
                </div>
                <div class="circle cyclingPath" onclick="selectGreen()">
                    <img src="./static/images/picture_Buttons/cyclingPath_edited.png" alt="Cycling Path" style="width: 70%; height: 90%;">
                </div>
                <div class="circle footPath" onclick="selectYellow()">
                    <img src="./static/images/picture_Buttons/footPath_edited.png" alt="Foot Path" style="width: 100%; height: 100%;">
                </div>
                <div class="circle wayfindingSignage" onclick="selectBlue()">
                    <img src="./static/images/picture_Buttons/wayfindingSignage_edited.png" alt="Wayfinding Signage" style="width: 100%; height: 100%;">
                </div>
                <div class="circle yellowBox" onclick="selectOrange()">
                    <img src="./static/images/picture_Buttons/yellowBox_edited.png" alt="Yellow Box" style="width: 100%; height: 70%;">
                </div>
            </div>
        </div>
    </div>

    <div id="loadingScreen" class="loading-screen" style="display: none;">
        <div class="spinner"></div>
        <p>Loading...</p>
    </div>

    <!-- Modals for each colour -->

        <!-- Modal Red -->
        <div id="modalRed" class="popup">
            <div class="popup-inner">
            <div class="popup__photo">
                <img src="./static/images/2D_Assets_low_res/BicycleCrossing_hanging.png" alt="Red Image">
            </div>
            <div class="popup__text">
                <h1>Oh, you found me! I was hoping you would. I was getting a bit worried about you. Are you okay? Did you hurt yourself while looking for me?</h1>
                <p>I'm so happy to see you. You're such a brave and adventurous seeker. You always have the courage to face the unknown and explore new places. You're full of life and joy, and I love that. Let's go see what else we can find, shall we? But first, let me give you a hug. You deserve it. </p>
            </div>
            <a class="popup__close" href="#">X</a>
            </div>
        </div>
        
        <!-- Modal Green -->
        <div id="modalGreen" class="popup">
            <div class="popup-inner">
            <div class="popup__photo">
                <img src="./static/images/2D_Assets_low_res/CyclingPath_4k.png" alt="Green Image">
            </div>
            <div class="popup__text">
                <h1>Wow, you're really good at finding people. I thought I had the perfect spot, but you still managed to track me down. </h1>
                <p>I'm glad you did, though. I was getting a bit bored of hiding, and I wanted to join you on your adventure. You're always ready for the next challenge, and you inspire me to do the same. Let's go see what else we can discover, shall we? </p>
            </div>
            <a class="popup__close" href="#">X</a>
            </div>
        </div>
  

       <!-- Modal Yellow -->
       <div id="modalYellow" class="popup">
            <div class="popup-inner">
            <div class="popup__photo">
                <img src="./static/images/2D_Assets_low_res/FootPath.png" alt="Yellow Image">
            </div>
            <div class="popup__text">
                <h1>You did it! You found me! I knew you would. You're such a persistent and determined seeker.</h1>
                <p>You're always ready for the next task, and you help me to do the same. But please, don't forget to have fun. You deserve it. You're awesome. üëç Let's go see what else we can do, shall we? But first, let me give you a high five. You earned it.</p>
            </div>
            <a class="popup__close" href="#">X</a>
            </div>
        </div>

        <!-- Modal Blue -->
        <div id="modalBlue" class="popup">
            <div class="popup-inner">
            <div class="popup__photo">
                <img src="./static/images/2D_Assets_low_res/Wayfinding_grabbing.png" alt="Blue Image">
            </div>
            <div class="popup__text">
                <h1>Hey, you found me! I'm so proud of you. You're such a smart and skillful seeker</h1>
                <p>You're always ready for the next adventure, and you guide me to do the same. But please, don't forget to enjoy yourself. You deserve it. You're amazing. üòç
                    Let's go see what else we can learn, shall we? But first, let me give you a hug. You earned it. ü§ó</p>
            </div>
            <a class="popup__close" href="#">X</a>
            </div>
        </div>

        <!-- Modal Orange -->
        <div id="modalOrange" class="popup">
            <div class="popup-inner">
            <div class="popup__photo">
                <img src="./static/images/2D_Assets_low_res/YellowBox_sitting.png" alt="Orange Image">
            </div>
            <div class="popup__text">
                <h1>Yay, you found me! I'm so happy for you. You're such a talented and cooperative seeker.</h1>
                <p>You're always ready for the next goal, and you encourage me to do the same. But please, don't forget to have fun. You deserve it. You're awesome. üòç
                    Let's go see what else we can achieve, shall we? But first, let me give you a high five. You earned it. üôå</p>
            </div>
            <a class="popup__close" href="#">X</a>
            </div>
        </div>

        <a-scene 
            vr-mode-ui='enabled: false' arjs='sourceType: webcam; videoTexture: true; debugUIEnabled: false' renderer='antialias: true; alpha: true'>
            <a-camera gps-projected-camera far='100' rotation-reader></a-camera>

            <a-entity id="redOff"></a-entity>
            <a-entity id="greenOff"></a-entity>
            <a-entity id="yellowOff"></a-entity>
            <a-entity id="blueOff"></a-entity>
            <a-entity id="orangeOff"></a-entity>
        </a-scene>
    </div>
    <script src="static/JavaScript/index.js"></script>
</body>

</html>
